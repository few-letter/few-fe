---
description: 절차적 → 객체지향 전환 가이드
---

절차적 코드를 객체지향으로 전환하는 가이드를 적용합니다.

**참고**: `.claude/OOP_THINKING_GUIDE.md`의 원칙을 기반으로 리팩토링합니다.

## 리팩토링 단계

### Step 1: 문제 진단
절차적 코드의 특징 식별:
- 데이터(구조체/인터페이스)와 함수가 분리됨
- 함수가 외부 데이터를 받아서 처리
- 기능 추가 시 새로운 함수 계속 추가
- 데이터 변경 시 여러 함수 수정 필요

### Step 2: 데이터와 행동 결합
```
calculateTotal(order) → order.total()
applyDiscount(order, rate) → discountPolicy.calculate(order)
```
- 데이터를 가진 객체에게 해당 데이터를 조작하는 책임 부여
- "이 데이터를 가장 잘 아는 객체는 누구인가?"

### Step 3: 메시지 기반 협력
- 객체가 직접 다른 객체의 데이터를 꺼내 처리하지 않음
- 메시지를 보내 요청하고, 결과를 받음

### Step 4: 인터페이스로 추상화
- 변경될 가능성이 있는 부분을 인터페이스로 분리
- 구현체를 자유롭게 교체 가능하도록

## 출력 형식

1. **Before 분석**: 현재 코드의 절차적 특성 진단
2. **책임 재할당**: 어떤 책임을 어떤 객체로 이동할지
3. **After 코드**: 객체지향으로 전환된 코드
4. **변경 이점**: 확장성/유지보수성 개선 포인트
